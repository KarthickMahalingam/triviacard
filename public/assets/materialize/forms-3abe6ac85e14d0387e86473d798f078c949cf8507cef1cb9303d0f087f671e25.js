!function(w){w(document).on("ready turbolinks:load",function(){function t(t){var e=t.css("font-family"),i=t.css("font-size"),a=t.css("line-height"),n=t.css("padding");i&&o.css("font-size",i),e&&o.css("font-family",e),a&&o.css("line-height",a),n&&o.css("padding",n),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&o.css("overflow-wrap","normal").css("white-space","pre"),o.text(t.val()+"\n");var s=o.html().replace(/\n/g,"<br>");o.html(s),t.is(":visible")?o.css("width",t.width()):o.css("width",w(window).width()/2),t.data("original-height")<=o.height()?t.css("height",o.height()):t.val().length<t.data("previous-length")&&t.css("height",t.data("original-height")),t.data("previous-length",t.val().length)}Materialize.updateTextFields=function(){w("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each(function(t,e){var i=w(this);0<w(e).val().length||w(e).is(":focus")||e.autofocus||i.attr("placeholder")!==undefined?i.siblings("label").addClass("active"):w(e)[0].validity?i.siblings("label").toggleClass("active",!0===w(e)[0].validity.badInput):i.siblings("label").removeClass("active")})};var i="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";w(document).on("change",i,function(){0===w(this).val().length&&w(this).attr("placeholder")===undefined||w(this).siblings("label").addClass("active"),validate_field(w(this))}),w(document).on("ready turbolinks:load",function(){Materialize.updateTextFields()}),w(document).on("reset",function(t){var e=w(t.target);e.is("form")&&(e.find(i).removeClass("valid").removeClass("invalid"),e.find(i).each(function(){""===w(this).attr("value")&&w(this).siblings("label").removeClass("active")}),e.find("select.initialized").each(function(){var t=e.find("option[selected]").text();e.siblings("input.select-dropdown").val(t)}))}),w(document).on("focus",i,function(){w(this).siblings("label, .prefix").addClass("active")}),w(document).on("blur",i,function(){var t=w(this),e=".prefix";0===t.val().length&&!0!==t[0].validity.badInput&&t.attr("placeholder")===undefined&&(e+=", label"),t.siblings(e).removeClass("active"),validate_field(t)}),window.validate_field=function(t){var e=t.attr("data-length")!==undefined,i=parseInt(t.attr("data-length")),a=t.val().length;0!==t.val().length||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&a<=i||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))};var e="input[type=radio], input[type=checkbox]";w(document).on("keyup.radio",e,function(t){if(9===t.which)return w(this).addClass("tabbed"),void w(this).one("blur",function(){w(this).removeClass("tabbed")})});var o=w(".hiddendiv").first();o.length||(o=w('<div class="hiddendiv common"></div>'),w("body").append(o));var a=".materialize-textarea";w(a).each(function(){var t=w(this);t.data("original-height",t.height()),t.data("previous-length",t.val().length)}),w("body").on("keyup keydown autoresize",a,function(){t(w(this))}),w(document).on("change",'.file-field input[type="file"]',function(){for(var t=w(this).closest(".file-field").find("input.file-path"),e=w(this)[0].files,i=[],a=0;a<e.length;a++)i.push(e[a].name);t.val(i.join(", ")),t.trigger("change")});var n="input[type=range]",s=!1;w(n).each(function(){var t=w('<span class="thumb"><span class="value"></span></span>');w(this).after(t)});var l=function(t){var e=-7+parseInt(t.parent().css("padding-left"))+"px";t.velocity({height:"30px",width:"30px",top:"-30px",marginLeft:e},{duration:300,easing:"easeOutExpo"})},c=function(t){var e=t.width()-15,i=parseFloat(t.attr("max")),a=parseFloat(t.attr("min"));return(parseFloat(t.val())-a)/(i-a)*e},d=".range-field";w(document).on("change",n,function(){var t=w(this).siblings(".thumb");t.find(".value").html(w(this).val()),t.hasClass("active")||l(t);var e=c(w(this));t.addClass("active").css("left",e)}),w(document).on("mousedown touchstart",n,function(t){var e=w(this).siblings(".thumb");if(e.length<=0&&(e=w('<span class="thumb"><span class="value"></span></span>'),w(this).after(e)),e.find(".value").html(w(this).val()),s=!0,w(this).addClass("active"),e.hasClass("active")||l(e),"input"!==t.type){var i=c(w(this));e.addClass("active").css("left",i)}}),w(document).on("mouseup touchend",d,function(){s=!1,w(this).removeClass("active")}),w(document).on("input mousemove touchmove",d,function(){var t=w(this).children(".thumb"),e=w(this).find(n);if(s){t.hasClass("active")||l(t);var i=c(e);t.addClass("active").css("left",i),t.find(".value").html(t.siblings(n).val())}}),w(document).on("mouseout touchleave",d,function(){if(!s){var t=w(this).children(".thumb"),e=7+parseInt(w(this).css("padding-left"))+"px";t.hasClass("active")&&t.velocity({height:"0",width:"0",top:"10px",marginLeft:e},{duration:100}),t.removeClass("active")}}),w.fn.autocomplete=function(u){var t={data:{},limit:Infinity,onAutocomplete:null,minLength:1};return u=w.extend(t,u),this.each(function(){var n,s=w(this),o=u.data,l=0,c=-1,t=s.closest(".input-field");if(w.isEmptyObject(o))s.off("keyup.autocomplete focus.autocomplete");else{var e,d=w('<ul class="autocomplete-content dropdown-content"></ul>');t.length?(e=t.children(".autocomplete-content.dropdown-content").first()).length||t.append(d):(e=s.next(".autocomplete-content.dropdown-content")).length||s.after(d),e.length&&(d=e);var r=function(t,e){var i=e.find("img"),a=e.text().toLowerCase().indexOf(""+t.toLowerCase()),n=a+t.length-1,s=e.text().slice(0,a),o=e.text().slice(a,n+1),l=e.text().slice(n+1);e.html("<span>"+s+"<span class='highlight'>"+o+"</span>"+l+"</span>"),i.length&&e.prepend(i)},i=function(){c=-1,d.find(".active").removeClass("active")},p=function(){d.empty(),i(),n=undefined};s.off("blur.autocomplete").on("blur.autocomplete",function(){p()}),s.off("keyup.autocomplete focus.autocomplete").on("keyup.autocomplete focus.autocomplete",function(t){l=0;var e=s.val().toLowerCase();if(13!==t.which&&38!==t.which&&40!==t.which){if(n!==e&&(p(),e.length>=u.minLength))for(var i in o)if(o.hasOwnProperty(i)&&-1!==i.toLowerCase().indexOf(e)){if(l>=u.limit)break;var a=w("<li></li>");o[i]?a.append('<img src="'+o[i]+'" class="right circle"><span>'+i+"</span>"):a.append("<span>"+i+"</span>"),d.append(a),r(e,a),l++}n=e}}),s.off("keydown.autocomplete").on("keydown.autocomplete",function(t){var e,i=t.which,a=d.children("li").length,n=d.children(".active").first();13===i&&0<=c?(e=d.children("li").eq(c)).length&&(e.trigger("mousedown.autocomplete"),t.preventDefault()):38!==i&&40!==i||(t.preventDefault(),38===i&&0<c&&c--,40===i&&c<a-1&&c++,n.removeClass("active"),0<=c&&d.children("li").eq(c).addClass("active"))}),d.off("mousedown.autocomplete touchstart.autocomplete").on("mousedown.autocomplete touchstart.autocomplete","li",function(){var t=w(this).text().trim();s.val(t),s.trigger("change"),p(),"function"==typeof u.onAutocomplete&&u.onAutocomplete.call(this,t)})}})}}),w.fn.material_select=function(m){function b(t,e,i){var a=t.indexOf(e),n=-1===a;return n?t.push(e):t.splice(a,1),i.siblings("ul.dropdown-content").find("li:not(.optgroup)").eq(e).toggleClass("active"),i.find("option").eq(e).prop("selected",n),s(t,i),n}function s(t,e){for(var i="",a=0,n=t.length;a<n;a++){var s=e.find("option").eq(t[a]).text();i+=0===a?s:", "+s}""===i&&(i=e.find("option:disabled").eq(0).text()),e.siblings("input.select-dropdown").val(i)}w(this).each(function(){var a=w(this);if(!a.hasClass("browser-default")){var d=!!a.attr("multiple"),t=a.attr("data-select-id");if(t&&(a.parent().find("span.caret").remove(),a.parent().find("input").remove(),a.unwrap(),w("ul#select-options-"+t).remove()),"destroy"===m)return a.removeAttr("data-select-id").removeClass("initialized"),void w(window).off("click.select");var e=Materialize.guid();a.attr("data-select-id",e);var i=w('<div class="select-wrapper"></div>');i.addClass(a.attr("class")),a.is(":disabled")&&i.addClass("disabled");var r=w('<ul id="select-options-'+e+'" class="dropdown-content select-dropdown '+(d?"multiple-select-dropdown":"")+'"></ul>'),n=a.children("option, optgroup"),s=[],o=!1,l=a.find("option:selected").html()||a.find("option:first").html()||"",c=function(t,e,i){var a=e.is(":disabled")?"disabled ":"",n="optgroup-option"===i?"optgroup-option ":"",s=d?'<input type="checkbox"'+a+"/><label></label>":"",o=e.data("icon"),l=e.attr("class");if(o){var c="";return l&&(c=' class="'+l+'"'),r.append(w('<li class="'+a+n+'"><img alt="" src="'+o+'"'+c+"><span>"+s+e.html()+"</span></li>")),!0}r.append(w('<li class="'+a+n+'"><span>'+s+e.html()+"</span></li>"))};n.length&&n.each(function(){if(w(this).is("option"))d?c(a,w(this),"multiple"):c(a,w(this));else if(w(this).is("optgroup")){var t=w(this).children("option");r.append(w('<li class="optgroup"><span>'+w(this).attr("label")+"</span></li>")),t.each(function(){c(a,w(this),"optgroup-option")})}}),r.find("li:not(.optgroup)").each(function(i){w(this).click(function(t){if(!w(this).hasClass("disabled")&&!w(this).hasClass("optgroup")){var e=!0;d?(w('input[type="checkbox"]',this).prop("checked",function(t,e){return!e}),e=b(s,i,a),h.trigger("focus")):(r.find("li").removeClass("active"),w(this).toggleClass("active"),h.val(w(this).text())),f(r,w(this)),a.find("option").eq(i).prop("selected",e),a.trigger("change"),void 0!==m&&m()}t.stopPropagation()})}),a.wrap(i);var p=w('<span class="caret">&#9660;</span>'),u=l.replace(/"/g,"&quot;"),h=w('<input type="text" class="select-dropdown" readonly="true" '+(a.is(":disabled")?"disabled":"")+' data-activates="select-options-'+e+'" value="'+u+'"/>');a.before(h),h.before(p),h.after(r),a.is(":disabled")||h.dropdown({hover:!1}),a.attr("tabindex")&&w(h[0]).attr("tabindex",a.attr("tabindex")),a.addClass("initialized"),h.on({focus:function(){if(w("ul.select-dropdown").not(r[0]).is(":visible")&&(w("input.select-dropdown").trigger("close"),w(window).off("click.select")),!r.is(":visible")){w(this).trigger("open",["focus"]);var t=w(this).val();d&&0<=t.indexOf(",")&&(t=t.split(",")[0]);var e=r.find("li").filter(function(){return w(this).text().toLowerCase()===t.toLowerCase()})[0];f(r,e,!0),w(window).off("click.select").on("click.select",function(){d&&(o||h.trigger("close")),w(window).off("click.select")})}},click:function(t){t.stopPropagation()}}),h.on("blur",function(){d||(w(this).trigger("close"),w(window).off("click.select")),r.find("li.selected").removeClass("selected")}),r.hover(function(){o=!0},function(){o=!1}),d&&a.find("option:selected:not(:disabled)").each(function(){var t=this.index;b(s,t,a),r.find("li:not(.optgroup)").eq(t).find(":checkbox").prop("checked",!0)});var f=function(t,e,i){if(e){t.find("li.selected").removeClass("selected");var a=w(e);a.addClass("selected"),d&&!i||r.scrollTo(a)}},v=[],g=function(t){if(9!=t.which)if(40!=t.which||r.is(":visible")){if(13!=t.which||r.is(":visible")){t.preventDefault();var e=String.fromCharCode(t.which).toLowerCase();if(e&&-1===[9,13,27,38,40].indexOf(t.which)){v.push(e);var i=v.join(""),a=r.find("li").filter(function(){return 0===w(this).text().toLowerCase().indexOf(i)})[0];a&&f(r,a)}if(13==t.which){var n=r.find("li.selected:not(.disabled)")[0];n&&(w(n).trigger("click"),d||h.trigger("close"))}40==t.which&&(a=r.find("li.selected").length?r.find("li.selected").next("li:not(.disabled)")[0]:r.find("li:not(.disabled)")[0],f(r,a)),27==t.which&&h.trigger("close"),38==t.which&&(a=r.find("li.selected").prev("li:not(.disabled)")[0])&&f(r,a),setTimeout(function(){v=[]},1e3)}}else h.trigger("open");else h.trigger("close")};h.on("keydown",g)}})}}(jQuery);