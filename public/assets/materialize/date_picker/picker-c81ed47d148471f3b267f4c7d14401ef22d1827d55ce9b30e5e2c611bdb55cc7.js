!function(e){Materialize.Picker=e(jQuery)}(function(v){function _(o,e,t,n){function r(){return _._.node("div",_._.node("div",_._.node("div",_._.node("div",h.component.nodes(f.open),p.box),p.wrap),p.frame),p.holder)}function i(){m.data(e,h).addClass(p.input).attr("tabindex",-1).val(m.data("value")?h.get("select",l.format):o.value),l.editable||m.on("focus."+f.id+" click."+f.id,function(e){e.preventDefault(),h.$root.eq(0).focus()}).on("keydown."+f.id,c),$(o,{haspopup:!0,expanded:!1,readonly:!1,owns:o.id+"_root"})}function a(){h.$root.on({keydown:c,focusin:function(e){h.$root.removeClass(p.focused),e.stopPropagation()},"mousedown click":function(e){var t=e.target;t!=h.$root.children()[0]&&(e.stopPropagation(),"mousedown"!=e.type||v(t).is("input, select, textarea, button, option")||(e.preventDefault(),h.$root.eq(0).focus()))}}).on({focus:function(){m.addClass(p.target)},blur:function(){m.removeClass(p.target)}}).on("focus.toOpen",s).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=v(this),t=e.data(),n=e.hasClass(p.navDisabled)||e.hasClass(p.disabled),o=k();o=o&&(o.type||o.href)&&o,(n||o&&!v.contains(h.$root[0],o))&&h.$root.eq(0).focus(),!n&&t.nav?h.set("highlight",h.component.item.highlight,{nav:t.nav}):!n&&"pick"in t?(h.set("select",t.pick),l.closeOnSelect&&h.close(!0)):t.clear?(h.clear(),l.closeOnSelect&&h.close(!0)):t.close&&h.close(!0)}),$(h.$root[0],"hidden",!0)}function d(){var e;!0===l.hiddenName?(e=o.name,o.name=""):e=(e=["string"==typeof l.hiddenPrefix?l.hiddenPrefix:"","string"==typeof l.hiddenSuffix?l.hiddenSuffix:"_submit"])[0]+o.name+e[1],h._hidden=v('<input type=hidden name="'+e+'"'+(m.data("value")||o.value?' value="'+h.get("select",l.formatSubmit)+'"':"")+">")[0],m.on("change."+f.id,function(){h._hidden.value=o.value?h.get("select",l.formatSubmit):""}),l.container?v(l.container).append(h._hidden):m.before(h._hidden)}function c(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return h.close(),!1;(32==t||n||!f.open&&h.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?h.clear().close():h.open())}function s(e){e.stopPropagation(),"focus"==e.type&&h.$root.addClass(p.focused),h.open()}if(!o)return _;var u=!1,f={id:o.id||"P"+Math.abs(~~(Math.random()*new Date))},l=t?v.extend(!0,{},t.defaults,n):n||{},p=v.extend({},_.klasses(),l.klass),m=v(o),g=function(){return this.start()},h=g.prototype={constructor:g,$node:m,start:function(){return f&&f.start?h:(f.methods={},f.start=!0,f.open=!1,f.type=o.type,o.autofocus=o==k(),o.readOnly=!l.editable,o.id=o.id||f.id,"text"!=o.type&&(o.type="text"),h.component=new t(h,l),h.$root=v(_._.node("div",r(),p.picker,'id="'+o.id+'_root" tabindex="0"')),a(),l.formatSubmit&&d(),i(),l.container?v(l.container).append(h.$root):m.before(h.$root),h.on({start:h.component.onStart,render:h.component.onRender,stop:h.component.onStop,open:h.component.onOpen,close:h.component.onClose,set:h.component.onSet}).on({start:l.onStart,render:l.onRender,stop:l.onStop,open:l.onOpen,close:l.onClose,set:l.onSet}),u=y(h.$root.children()[0]),o.autofocus&&h.open(),h.trigger("start").trigger("render"))},render:function(e){return e?h.$root.html(r()):h.$root.find("."+p.box).html(h.component.nodes(f.open)),h.trigger("render")},stop:function(){return f.start&&(h.close(),h._hidden&&h._hidden.parentNode.removeChild(h._hidden),h.$root.remove(),m.removeClass(p.input).removeData(e),setTimeout(function(){m.off("."+f.id)},0),o.type=f.type,o.readOnly=!1,h.trigger("stop"),f.methods={},f.start=!1),h},open:function(e){return f.open?h:(m.addClass(p.active),$(o,"expanded",!0),setTimeout(function(){h.$root.addClass(p.opened),$(h.$root[0],"hidden",!1)},0),!1!==e&&(f.open=!0,u&&w.css("overflow","hidden").css("padding-right","+="+b()),h.$root.eq(0).focus(),x.on("click."+f.id+" focusin."+f.id,function(e){var t=e.target;t!=o&&t!=document&&3!=e.which&&h.close(t===h.$root.children()[0])}).on("keydown."+f.id,function(e){var t=e.keyCode,n=h.component.key[t],o=e.target;27==t?h.close(!0):o!=h.$root[0]||!n&&13!=t?v.contains(h.$root[0],o)&&13==t&&(e.preventDefault(),o.click()):(e.preventDefault(),n?_._.trigger(h.component.key.go,h,[_._.trigger(n)]):h.$root.find("."+p.highlighted).hasClass(p.disabled)||(h.set("select",h.component.item.highlight),l.closeOnSelect&&h.close(!0)))})),h.trigger("open"))},close:function(e){return e&&(h.$root.off("focus.toOpen").eq(0).focus(),setTimeout(function(){h.$root.on("focus.toOpen",s)},0)),m.removeClass(p.active),$(o,"expanded",!1),setTimeout(function(){h.$root.removeClass(p.opened+" "+p.focused),$(h.$root[0],"hidden",!0)},0),f.open?(f.open=!1,u&&w.css("overflow","").css("padding-right","-="+b()),x.off("."+f.id),h.trigger("close")):h},clear:function(e){return h.set("clear",null,e)},set:function(e,t,n){var o,r,i=v.isPlainObject(e),a=i?e:{};if(n=i&&v.isPlainObject(t)?t:n||{},e){for(o in i||(a[e]=t),a)r=a[o],o in h.component.item&&(r===undefined&&(r=null),h.component.set(o,r,n)),"select"!=o&&"clear"!=o||m.val("clear"==o?"":h.get(o,l.format)).trigger("change");h.render()}return n.muted?h:h.trigger("set",a)},get:function(e,t){if(null!=f[e=e||"value"])return f[e];if("valueSubmit"==e){if(h._hidden)return h._hidden.value;e="value"}if("value"==e)return o.value;if(e in h.component.item){if("string"==typeof t){var n=h.component.get(e);return n?_._.trigger(h.component.formats.toString,h.component,[t,n]):""}return h.component.get(e)}},on:function(e,t,n){var o,r,i=v.isPlainObject(e),a=i?e:{};if(e)for(o in i||(a[e]=t),a)r=a[o],n&&(o="_"+o),f.methods[o]=f.methods[o]||[],f.methods[o].push(r);return h},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in f.methods&&delete f.methods[t];return h},trigger:function(e,n){var t=function(e){var t=f.methods[e];t&&t.map(function(e){_._.trigger(e,h,[n])})};return t("_"+e),t(e),h}};return new g}function y(e){var t,n="position";return e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]),"fixed"==t}function b(){if(w.height()<=o.height())return 0;var e=v('<div style="visibility:hidden;width:100px" />').appendTo("body"),t=e[0].offsetWidth;e.css("overflow","scroll");var n=v('<div style="width:100%" />').appendTo(e)[0].offsetWidth;return e.remove(),t-n}function $(e,t,n){if(v.isPlainObject(t))for(var o in t)r(e,o,t[o]);else r(e,t,n)}function r(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function e(e,t){for(var n in v.isPlainObject(e)||(e={attribute:t}),t="",e){var o=("role"==n?"":"aria-")+n;t+=null==e[n]?"":o+'="'+e[n]+'"'}return t}function k(){try{return document.activeElement}catch(e){}}var o=v(window),x=v(document),w=v(document.documentElement);return _.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},_._={group:function(e){for(var t,n="",o=_._.trigger(e.min,e);o<=_._.trigger(e.max,e,[o]);o+=e.i)t=_._.trigger(e.item,e,[o]),n+=_._.node(e.node,t[0],t[1],t[2]);return n},node:function(e,t,n,o){return t?"<"+e+(n=n?' class="'+n+'"':"")+(o=o?" "+o:"")+">"+(t=v.isArray(t)?t.join(""):t)+"</"+e+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&e%1==0},ariaAttr:e},_.extend=function(o,r){v.fn[o]=function(e,t){var n=this.data(o);return"picker"==e?n:n&&"string"==typeof e?_._.trigger(n[e],n,[t]):this.each(function(){v(this).data(o)||new _(this,o,r,e)})},v.fn[o].defaults=r.defaults},_});