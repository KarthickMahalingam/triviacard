!function(y){y.fn.materialbox=function(){return this.each(function(){function u(){m=!1;var e=w.parent(".material-placeholder"),t=(window.innerWidth,window.innerHeight,w.data("width")),i=w.data("height");w.velocity("stop",!0),y("#materialbox-overlay").velocity("stop",!0),y(".materialbox-caption").velocity("stop",!0),y(window).off("scroll.materialbox"),y(document).off("keyup.materialbox"),y(window).off("resize.materialbox"),y("#materialbox-overlay").velocity({opacity:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){h=!1,y(this).remove()}}),w.velocity({width:t,height:i,left:0,top:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){e.css({height:"",width:"",position:"",top:"",left:""}),w.removeAttr("style"),w.attr("style",a),w.removeClass("active"),m=!0,p&&p.css("overflow","")}}),y(".materialbox-caption").velocity({opacity:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){y(this).remove()}})}if(!y(this).hasClass("initialized")){y(this).addClass("initialized");var p,f,h=!1,m=!0,v=275,o=200,w=y(this),e=y("<div></div>").addClass("material-placeholder"),a=w.attr("style");w.wrap(e),w.on("click",function(){var e=w.parent(".material-placeholder"),t=window.innerWidth,i=window.innerHeight,o=w.width(),a=w.height();if(!1===m)return u(),!1;if(h&&!0===m)return u(),!1;m=!1,w.addClass("active"),h=!0,e.css({width:e[0].getBoundingClientRect().width,height:e[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),p=undefined,f=e[0].parentNode;for(;null!==f&&!y(f).is(document);){var n=y(f);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),p=p===undefined?n:p.add(n)),f=f.parentNode}w.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}).data("width",o).data("height",a);var l=y('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){!0===m&&u()});w.before(l);var d=l[0].getBoundingClientRect();if(l.css({width:t,height:i,left:-1*d.left,top:-1*d.top}),l.velocity({opacity:1},{duration:v,queue:!1,easing:"easeOutQuad"}),""!==w.data("caption")){var r=y('<div class="materialbox-caption"></div>');r.text(w.data("caption")),y("body").append(r),r.css({display:"inline"}),r.velocity({opacity:1},{duration:v,queue:!1,easing:"easeOutQuad"})}var s=0,c=0;a/i<o/t?c=(s=.9*t)*(a/o):(s=.9*i*(o/a),c=.9*i),w.hasClass("responsive-img")?w.velocity({"max-width":s,width:o},{duration:0,queue:!1,complete:function(){w.css({left:0,top:0}).velocity({height:c,width:s,left:y(document).scrollLeft()+t/2-w.parent(".material-placeholder").offset().left-s/2,top:y(document).scrollTop()+i/2-w.parent(".material-placeholder").offset().top-c/2},{duration:v,queue:!1,easing:"easeOutQuad",complete:function(){m=!0}})}}):w.css("left",0).css("top",0).velocity({height:c,width:s,left:y(document).scrollLeft()+t/2-w.parent(".material-placeholder").offset().left-s/2,top:y(document).scrollTop()+i/2-w.parent(".material-placeholder").offset().top-c/2},{duration:v,queue:!1,easing:"easeOutQuad",complete:function(){m=!0}}),y(window).on("scroll.materialbox",function(){h&&u()}),y(window).on("resize.materialbox",function(){h&&u()}),y(document).on("keyup.materialbox",function(e){27===e.keyCode&&!0===m&&h&&u()})})}})},y(document).on("ready turbolinks:load",function(){y(".materialboxed").materialbox()})}(jQuery);